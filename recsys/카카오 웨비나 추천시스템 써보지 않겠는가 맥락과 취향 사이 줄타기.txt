추천시스템 써보지 않겠는가? - 맥략과 취향 사이 줄타기

서비스의 니즈에 맞게 추천시스템을 적용함.픽코마는 카카오 재팬의 웹툰 플랫폼임
팝업 추천: 팝업의 형태로 노출시키는, 비즈니스 목적에 따라 - 노출 빈도가 잦으면 서비스 경험이 나빠질 위험이 있음
팝업 노출 타이밍 : 열람을 멈추고 나가고 싶을 때 - 재미가 없어서? - 이미 가 보아서?
어떤 경우든, 새로운 작품 발견에 열려 있는 상태로 간주할 수 있음
팝업 추천의 목표 - 유저의 작품 소비 패턴 변화를 유도하기 위함 1) 유저에게 2개 이상의 작품을 열람하도록 유도 2) 전략적으로, 잘 알려지지 않은 작품의 열람을 유도 (신작의 경우 로그가 많이 없어 노출이 잘 되지 않음) 3) 비즈니스상 이점이 있는 특정 컨텐츠를 우선 추천하기 위해 활용 가능
추천의 자동화 : 머신러닝을 통해 추천을 자동화할 수 있음. 기존에는 팝업 제품을 일일이 사람이 결정했음. 이 경우 품도 많이 가고, 주관이 들어가며 개인화가 어려움
개인화추천 vs 연관 추천 개인화 추천 - 개별 유저의 취향을 고려한 추천 - 유저에 따라 달라지는 추천 결과 연관 추천 (맥락 추천) - 현재 보고 있는 아이템과 연관성이 높은 아이템 추천 - 개별 유저의 취향을 고려하지 않음
먼저 개인화 추천으로 시작함. “유저의 평소 취향과 비슷한 작품을 추천해주면 열람으로 이어지지 않을까?” -> “현재 열람중인 작품과 비슷한 작품을 추천해주는 것이 자연스럽지 않을까?” 라는 현업의 제안을 받음.
팝업의 타이밍에서는 취향과 맥락 중 어떤 것이 더 중요할까?  -> 답이 잘 안나옴. 둘 다 해서 A/B 테스트를 해보자!
어떤 모델을 사용할 것인가? -> MF 알고리즘! 유저와 아이템을 행렬곱으로 표현, 잘 복원해 낸다면 원래 값이 없던 interaction에 대해서도 잘 예측할 것이라는 기대를 할 수 있음. 또한 유저와 아이템을 같은 공간 내에 임베딩할 수 있음. 이 유저 벡터와 아이템 벡터를 곱한 값이 내적이 되고, 이는 유사도로 이해할 수 있음. 유저가 아이템을 얼마나 좋아할지를 잠재공간 내 유사도의 개념으로 표현할 수 있다는 것임. 아이템과 아이템, 유저와 유저 사이의 유사도도 구할 수 있음.
개인화 추천은 한 유저와 모든 아이템에 대한 유사도를 구해 높은 점수를 갖는 아이템을 취해고, 맥락 추천은 유저와 관계 없이 아이템들간의 유사도를 쭉 구해 가장 유사한 상품을 추천해줌
개인화vs맥락 -> 개인화 승리! (by 18% CVR, conversion rate) 
왜? - 연관작품과 유저의 유사도, 그리고 CVR과의 관계-> 개인화 추천은 유사도와 크게 관련 없이 비슷한 추세, 연관추천은 유사도가 높아야지만 높은 CVR -열람작품과 팝업작품의 유사도, 그리고 CVR과의 관계 -> 연관작품: 유사도가 매우 높아야 전환이 잘 됨, 보던 작품이 맘에 들었어야 전환이 잘 됨 -> 개인화추천: 열람작품과 유사도가 높으면 전환이 잘되긴 하지만 전반적으로 전환이 잘 됨, 이는 개인과 팝업작품의 유사도때문임
요약하자면, 맥락추천은 이전 작품이 맘에 들어야 전환이 높은 반면 개인화추천은 골고루 잘 됨. 유저와 작품의 유사도가 높아야 전환이 잘 된다는 말임.
여기서, 팝업추천은 열람을 종료할 때 제공하는 것임. 픽코마의 뷰어 추천(열람 마지막 슬라이드에 뜨는 팝업)에서도 이런 개인화 추천을 사용하면 효과를 볼 수 있으리라 기대했음.
그러나 연관추천에 비해 개인화 추천이 -31%를 기록함. 이는 팝업 추천과 뷰어 추천에 진입하는 상황에 다르기 때문에 일어나는 현상으로 이해함. 팝업은 해당 작품이 맘에 들지 않아 이탈 상황에 진입하는 경우가 많은 반면 뷰어 추천은 마지막까지 봐야 나오므로 해당 작품이 마음에 드는 경우가 많고, 연관 추천이 더욱 강력했던 것임.
인사이트 1) 유저의 몰입도: x축은 웹툰의 회차, y축은 전환률. 연관 노출의 경우 우하향 그래프를 그림. 초반에는 일부러 추천을 안했었음. 경향성을 보아 극초반화에서도 연관추천을 제공하면 전환이 잘 되지 않을까? 했으나, 그렇게 두드러진 결과는 나오지 않음을 발견함. 이는 초반은 탐색 과정이기 때문에 일어난 현상으로 보임. 그래도 전반적인 전환률보다 높았음. 2) 노출시점: 시간대 평일 노출의 경우 아침7시, 정오, 밤10시 경에 급상승. 전환률의 경우 아침7시, 정오, 밤 10시 경에 바닥을 침. 둘 사이의 피어슨 상관계수는 -0.8 이는 기다무(기다리면 무료)때문으로 이해할 수 있음. 시간대마다 서비스를 이용하는 유저의 의도가 다르고, 이 것이 전환률에 영향을 미칠 수 있다.
missing pop: 추천에 노출되었지만 당시에 전환되지 않고, 언젠가는 다른 경로로 전환되는 것. 
전환이 낮을 때의 팝업을 아껴서 다른 시간에 써볼까? -> 실제로 전환이 낮은 시간대의 missing pop이 매우 높은 것을 확인함.
이 중 특정 시간대 하나를 한 번 막아봄. 7시는 impression이 높고 CVR이 낮으며, missing pop이 높은 시간대임. 7시에 올만한 유저 중 전환되지 않을 유저를 예측하여 7부터 한시간동안 팝업에 노출되지 않도록 유도. 그리하여 다른 시간에 팝업에 노출되어 전환되도록.
실험군은 전환률 자체는 증가했으나 재방문하지 않은 유저가 상당수 존재해 전체 노출은 떨어짐.
추천의 시간대가 전환에 큰영향을 미칠 수 있으며 이를 조정해서 성능을 올릴 수 있음을 알 수 있음.
팝업 추천의 성과/가치 : 자동화함으로써 사람의 노력이 덜 들면서도 더 좋은 성과를 거둘 수 있었음. 스케업 결과 112% 전환 증가 팝업 작품에 대한 열람수, 과금 수 기준 다른 추천 경로보다 높은 성과를 이룸.

